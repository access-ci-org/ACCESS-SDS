Use Case: Pomoxis is a suite of nanopore analysis tools aimed at providing a full pipeline for processing long read sequencing for optimal analyses. It assumes that read alignment and variant calling is being performed in real time on a Nanopore device and aims to both quality control this process and generate secondary analyses. 

Code details and -examples: Code:

The following are example command line executions for each of Pomoxisâ€™s utilities:

1. Draft Assembly
This will use the raw reads produed by the nanopore device to generate a de novo assembly.

```
minimap2 -ax map-ont -t8 ref.fa reads.fq |\
samtools sort -@8 -o reads.sorted.bam; samtools index reads.sorted.bam
racon -t 8 reads.fq reads.sorted.bam > draft_assembly.fasta
```
Where:
ref.fa is the reference genome
reads.fq are raw reads from the nanopore device
reads.sorted.bam is the output sorted BAM file
draft_assembly.fasta is the output draft assembly generated by the Racon tool. 

2. Poreplex
This will allow for live basecalling and de-multiplexing of the incoming reads.

```
mkfifo pipe.fq; poreplex -i /path/to/fast5/directory -o pipe.fq --trim-adapter &
```
Where:
/path/to/fast5/directory is the directory where fast5 reads from the nanpore device are being written
pipe.fq is the output pipe from which you can read live demultiplexed reads.

3. Align

```
pomoxis/scripts/align_trim.py draft_assembly.fasta minipolish.fq --out_fmt sam | \
samtools sort -@8 -o minipolish.sorted.bam
```
Where:
draft_assembly.fasta is the reference genome
minipolish.fq are the corrected reads generated by previous utilities in the Pomoxis pipeline
minipolish.sorted.bam is the output sorted BAM file of alignments.

4. Minipolish
This will polish the draft assembly using multiple rounds of Racon.

```
pomoxis/scripts/minipolish.py -p 8 -o minipolish.fq draft_assembly.fasta ref.fa
```
Where:
draft_assembly.fasta is the input draft genome
ref.fa is the reference genome
minipolish.fq is the output polished contigs.

5. ABCD
This utility will perform real-time monitoring of the nanopore device.

```
pomoxis/scripts/abcd.py -i /path/to/fast5 -r ref.fa -s > abcd_report.tsv
```

Where:
/path/to/fast5/ is the directory where fast5 reads from the nanpore device are being written
ref.fa is the reference genome
abcd_report.tsv is the output report file that includes details of the alignments performed by the tool.